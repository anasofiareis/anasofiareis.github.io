<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Venda das Fraldinhas</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link href='http://fonts.googleapis.com/css?family=Lato:400,700,900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="fb-root"></div>
   
    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div class="jumbotron">
      <div class="container">
        <h1>Venda das Fraldinhas</h1>
        <p>Após vários meses de uso de Fraldas Reutilizáveis decidimos que algumas das que temos não são da nossa preferência e por isso é altura de irem alegrar outros rabinhos que lhes dêem mais uso!</p>
      </div>
    </div>

    <div class="container">
        <div class="row">
            <h3 class="col-md-12 highlight">1. Seleccione os itens que pretende comprar</h3>
        </div>
        <div class="row">
            <h4 class="col-md-12 divider"><span>Recém-nascido</span></h4>
            <div class="col-sm-6 col-md-4 col-lg-3">
                <div class="item" data-item="tv">
                    <div class="item-discount">-25%</div>
                    <img src="img/tv.jpg" alt="Little Lamb Bambu ajustada T1"> <!-- é preciso inserir mais imagens -->
                    <div class="item-title">Ajustada Little Lamb Bambu T1 (3 - 9 kg)</div>
                    <div class="item-price">Preço de amigo <span>400&euro;</span></div>
                    <div class="item-price item-price-old">P.V.P <span>535&euro;</span></div>
                    <button class="item-info js-extra-info" data-container="body" data-toggle="popover" title="Informações adicionais" data-content="<strong>Marca:</strong> Samsung<br><strong>Modelo:</strong> <a href='http://www.fnac.pt/Samsung-TV-LED-UE42F5500-Smart-TV-107cm-Televisor-Smart-TV/a677675' target='_blank'>UE42F5500</a><br><strong>Estado:</strong> Como novo<br><strong>Data de compra:</strong> < 1 ano<br>">Mais informações &rarr;</button>
                    <button class="btn btn-success btn-sm js-interested">Estou interessado</button>
                </div>
            </div>
            
            <h4 class="col-md-12 divider"><span>Recém-nascido - Acessórios</span></h4>
            <div class="col-sm-6 col-md-4 col-lg-3">
                <div class="item" data-item="mesa-cabeceira-1">
                    <div class="item-discount">-35%</div>
                    <img src="img/trysil.jpg" alt="Trysil">
                    <div class="item-title">Mesa de cabeceira</div>
                    <div class="item-price">Preço de amigo <span>20&euro;</span></div>
                    <div class="item-price item-price-old">P.V.P <span>29,99&euro;</span></div>
                    <button class="item-info js-extra-info" data-container="body" data-toggle="popover" title="Informações adicionais" data-content="<strong>Marca:</strong> IKEA<br><strong>Modelo:</strong> <a href='http://www.ikea.com/pt/pt/catalog/products/30236025/' target='_blank'>TRYSIL</a><br><strong>Estado:</strong> Como novo<br><strong>Data de compra:</strong> < 1 ano<br>">Mais informações &rarr;</button>
                    <button class="btn btn-success btn-sm js-interested">Estou interessado</button>
                </div>
            </div>
            
            <h4 class="col-md-12 divider"><span>Tamanho Único</span></h4>
            <div class="col-sm-6 col-md-4 col-lg-3">
                <div class="item" data-item="frigorifico">
                    <div class="item-discount">-75%</div>
                    <img src="img/frigorifico.jpg" alt="Frigorifico">
                    <div class="item-title">Frigorífico Indesit 242L</div>
                    <div class="item-price">Preço de amigo <span>100&euro;</span></div>
                    <div class="item-price item-price-old">P.V.P <span>400&euro;</span></div>
                    <button class="item-info js-extra-info" data-container="body" data-toggle="popover" title="Informações adicionais" data-content="<strong>Marca:</strong> Indesit<br><strong>Modelo:</strong> <a href='http://www.onyougo.com/indesit-ra-26-eu-refrigerators_pi1129953' target='_blank'>RA26 (EU)</a><br><strong>Capacidade:</strong> 187L + 55L<br><strong>Estado:</strong> Algum desgaste nas borrachas das portas<br><strong>Data de compra:</strong> 5 anos<br>">Mais informações &rarr;</button>
                    <button class="btn btn-success btn-sm js-interested">Estou interessado</button>
                </div>
            </div>
            
            <h4 class="col-md-12 divider"><span>Tamanho Único - Acessórios</span></h4>
            <div class="col-sm-6 col-md-4 col-lg-3">
                <div class="item" data-item="frigorifico">
                    <div class="item-discount">-75%</div>
                    <img src="img/frigorifico.jpg" alt="Frigorifico">
                    <div class="item-title">Frigorífico Indesit 242L</div>
                    <div class="item-price">Preço de amigo <span>100&euro;</span></div>
                    <div class="item-price item-price-old">P.V.P <span>400&euro;</span></div>
                    <button class="item-info js-extra-info" data-container="body" data-toggle="popover" title="Informações adicionais" data-content="<strong>Marca:</strong> Indesit<br><strong>Modelo:</strong> <a href='http://www.onyougo.com/indesit-ra-26-eu-refrigerators_pi1129953' target='_blank'>RA26 (EU)</a><br><strong>Capacidade:</strong> 187L + 55L<br><strong>Estado:</strong> Algum desgaste nas borrachas das portas<br><strong>Data de compra:</strong> 5 anos<br>">Mais informações &rarr;</button>
                    <button class="btn btn-success btn-sm js-interested">Estou interessado</button>
                </div>
            </div>
        </div>
        <!--</div>-->
           <div class="section-2">
            <div class="row">
                <h3 class="col-md-12 highlight">2. Deixa-nos os teus dados de contacto</h3>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <form class="form-horizontal js-form" action="/mail.php" id="contact-form" role="form" novalidate>
                        <fieldset disabled>
                          <div class="form-group">
                            <label for="nome" class="col-sm-2 control-label">Nome</label>
                            <div class="col-sm-10 form-input">
                              <input type="text" class="form-control" name="form_nome" id="nome" placeholder="Para te podermos identificar" data-validation="required">
                            </div>
                          </div>
                          <div class="form-group">
                            <label for="email" class="col-sm-2 control-label">Email</label>
                            <div class="col-sm-10 form-input">
                              <input type="email" class="form-control" name="form_email" id="email" placeholder="Não vale colocar o email de outra pessoa!" data-validation="required email">
                            </div>
                          </div>
                          <div class="form-group">
                            <label for="notes" class="col-sm-2 control-label">Notas</label>
                            <div class="col-sm-10 form-input">
                              <textarea class="form-control" style="resize: none;" name="form_notes" id="notes" placeholder="Caso queiras colocar algum comentário adicional"></textarea>
                            </div>
                          </div>
                          <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                              <button type="submit" name="form_submit" class="btn btn-success">Enviar</button>
                            </div>
                          </div>
                        </fieldset>
                    </form>
                    <p class="note">Os preços dos artigos já têm um desconto considerável face ao seu valor de compra, mas dependendo das situações podemos rever o valor dos mesmos. Se estiveres realmente interessado em algum dos artigos, faz o pedido para ficar registado e deixa um comentário na zona das notas.</p>
                </div>
                <div class="col-md-3 col-md-offset-1">
                    <strong>Lista de Artigos</strong>
                    <ul class="item-list">
                    </ul>
                </div>
            </div>
        </div>
        <div class="form-answer">
            <div class="row">
                <h3 class="col-md-12 highlight">3. Obrigado pelo teu interesse!</h3>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <p>Em breve receberás a nossa resposta para tratarmos de todos os detalhes. Entretanto se nos quiseres ajudar a divulgar esta página, partilha com os teus amigos nas redes sociais.</p> 
                    <div class="social">
                        <div class="fb-share-button" data-href="http://connectcoimbra.com/sale/" data-type="button"></div>
                        <a href="https://twitter.com/share" class="twitter-share-button" data-lang="pt" data-count="none" data-dnt="true">Tweetar</a>
                        <button class="btn btn-success btn-xs js-startover">Começar de novo</button>
                    </div>
                </div>
            </div>
        </div>
     

      <footer>
        <p>Ana e Bernardo &hearts; 2014</p>
      </footer>
    </div> <!-- /container -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-form-validator/2.1.47/jquery.form-validator.min.js"></script>
    <script>
        var itemsCount = 0;

        $(document).ready(function(){
            $('.js-extra-info').popover({
              trigger: 'focus',
              html: true,
              placement: 'right'
            });

            $('.js-startover').on('click', function(e){
                location.reload();
                e.preventDefault();
            });

            $('.js-interested').on('click', function(e){
                $button = $(this);
                $parent = $button.parents('.item:first');
                $list = $('.item-list');

                if ($parent.hasClass('item-selected')){ // remove item
                    $parent.removeClass('item-selected');
                    $button.addClass('btn-success').html('Estou interessado');
                    $list.find("li[data-item='" + $parent.data('item') + "']").remove();
                    itemsCount--;
                } else { // Add item
                    $parent.addClass('item-selected');
                    $button.removeClass('btn-success').html('Retirar interesse');
                    $list.append('<li data-item="' + $parent.data('item') + '">&mdash; <span>' + $parent.find('.item-title').html() + '</span></li>');
                    itemsCount++;
                }

                if (itemsCount > 0) {
                    $('#contact-form fieldset').prop('disabled',false);
                } else {
                    $('#contact-form fieldset').prop('disabled',true);
                }

                e.preventDefault();
            });

            var submitForm = function(form){
                myData = form.serialize() ;

                form.find('fieldset').prop('disabled',true);
                form.find('button').html('A enviar...');
                $('.item .btn').prop('disabled', true);

                itemList = $('.item-list li').map(function(){
                    return 'items[]=' + encodeURIComponent($(this).find('span').html());
                }).get();
                myData += '&' + itemList.join('&');

                $.ajax({
                    type: "POST",
                    url: "mail.php",
                    data: myData
                })
                .done(function( ) {
                    $('.form-answer').fadeIn();
                    form.find('button').html('Enviado!');
                    $("html, body").animate({ scrollTop: $(document).height() }, 1000);
                });
            };

            var myLanguage = {
              errorTitle : 'Form submission failed!',
              requiredFields : 'O campo é de preenchimento obrigatório',
              badEmail : 'O e-mail não tem o formato correcto'
            };

            $.validate({ 
                form: '.js-form',
                language: myLanguage,
                onSuccess : function() {
                    submitForm($('.js-form'));

                    return false; 
                }
            });
        });
    </script>
     <script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/pt_PT/sdk.js#xfbml=1&version=v2.0";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
</body>
</html>
